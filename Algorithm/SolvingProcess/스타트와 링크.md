# 스타트와 링크
## 유형 : Back Tracking
* [14889](https://www.acmicpc.net/problem/14889) [:page_facing_up:](https://github.com/rudeore333/TIL/blob/master/Algorithm/codes/14889.cpp)


### 문제
 **축구를 재미있게 하기 위해서 스타트 팀의 능력치와 링크 팀의 능력치의 차이를 최소로 하려고 한다.**
 
#### 접근방법 1
> 임의의 한 숫자가 포함된 팀 vs 그 숫자가 포함되지 않은 팀으로 나눠서 최솟값을 구한다. -> 모든 팀의 경우를 전부 파악하는 것과 같다.   


##### 코드 ver1
> 실패.   
> 시간초과가 나오는데 cutting하는 부분이 필요한가?   

```cpp
#include <iostream>
#include <math.h>
using namespace std;

int n;
int arr[20][20];
int team[20];
int minVal = 100000000;

int calculateTeamStats(bool isRecur, int pivot, int teamNum) {
    int temp = 0;
    for (int i = 0; i < n; i++)
        if (team[i] == teamNum) {
            if (pivot == -1) {
                pivot = i;
                continue;
            }
            temp += arr[pivot][i];
            if (!isRecur)
                temp += calculateTeamStats(true, i, teamNum);
        }

    return temp;
}

void backtracking(int available) {
    if (available == 0) {
        int teamA = calculateTeamStats(false, -1, 1);
        int teamB = calculateTeamStats(false, -1, 0);
        int difference = abs(teamA - teamB);
        if (difference < minVal) minVal = difference;
        return;
    }

    for (int i = 1; i < n; i++) {
        if (team[i] == 0) {
            team[i] = 1;
            backtracking(available - 1);
            team[i] = 0;
        }
    }
}

int main(){
    cin >> n;
    for (int i = 0; i < n; i++)
        for (int j = 0; j < n; j++) {
            int temp;
            cin >> temp;
            arr[i][j] = temp;
        }
    team[0] = 1;
    backtracking((n / 2) - 1);
    cout << minVal;
}
```

#### 문제발생 1
> 팀을 나누는것만 해도 (n C n/2) / 2 번이고 각각 나눌때마다 N^2 이 걸리니까 시간이 초과되는것 같다.   
> **해결방법** -> 팀을 나누면서 동시에 점수계산을 하는게.. 좋을거 같다..?   
> 로 해결하려해도 시간초과가 뜬다. 뭐지 뭐가문제지

##### 코드 ver2
> 각 팀별점수를 계산하는데 조금 더 효과적인 방법을 생각하자.


```cpp
#include <iostream>
#include <math.h>
using namespace std;

int n;
int arr[20][20];
int team[20];
int minVal = 100000000;

int calculateTeam(int teamNum) {
	int temp = 0;
	for (int i = 0; i < n; i++)
		if (team[i] == teamNum)
			for (int j = 0; j < n; j++)
				if (team[j] == teamNum)
					temp += arr[i][j];
	return temp;
}

void backTracking(int available, int index) {
	if (available == 0) {
		int teamA = calculateTeam(1);
		int teamB = calculateTeam(0);
		int difference = abs(teamA - teamB);
		if (difference < minVal) minVal = difference;
		teamB = 0;
		return;
	}

	for (int i = index; i < n; i++) {
		team[i] = 1;
		backTracking(available - 1, index + 1);
		team[i] = 0;
	}
}

int main() {
	cin >> n;
	for (int i = 0; i < n; i++)
		for (int j = 0; j < n; j++) {
			int temp;
			cin >> temp;
			arr[i][j] = temp;
		}
	team[0] = 1;
	backTracking((n / 2) - 1, 1);
	cout << minVal;
}
```

